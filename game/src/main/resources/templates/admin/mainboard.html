<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>The page is a write page</title>
<!-- 자바스크립트 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
* {
	margin: 0;
	padding: 0;
	text-decoration: none;
	border-collapse: collapse;
}

a {
	color: #000;
	text-decoration: none;
}

a:hover, a:focus, a:active {
	color: crimson;
	text-decoration: none;
}

table {
	width: 100%;
	border: 1px solid lightgray;
	margin-top: 5px;
	margin-left: auto;
	margin-right: auto;
	margin-bottom: auto;
}

table.tr tr1 {
	padding: 100px;
}

th {
	border: 1px solid black;
	padding: 10px;
}

td {
	border: 1px solid black;
	text-align: center;
	padding: 5px;
}

li { /* 페이징 점 제거 */
	list-style: none;
}

.select {
	width: 130px;
	border-radius: 5px;
	padding: 9px 10px;
	font-size: 12px;
	border: 1px solid gray;
}

h1 {
	text-align: center;
	margin-bottom: 60px;
}

.search_input {
	width: 200px;
	border-radius: 5px;
	padding: 9px;
	font-size: 13px;
	margin-left: 2px;
	border: 1px solid gray;
	margin-top: 2px;
}

.btn_search {
	color: white;
	background: black;
	border-radius: 5px;
	padding: 8px 15px;
	font-size: 12px;
	border: 1px solid black;
	cursor: pointer;
	margin-left: 2px;
}

.btn_write, .btn_delete {
	color: white;
	background: black;
	border-radius: 5px;
	padding: 7px 15px;
	font-size: 12px;
	border: 1px solid black;
	cursor: pointer;
	float: right;
	margin-top: 8px;
	margin-left: 8px;
}

.title_link {
	list-style-type: none;
	color: black;
}

a[name="btn_write"], a[name="btn_delete"] {
	color: white;
}

.content {
	width: 1000px;
	margin: auto;
	margin-top: 50px;
}

.paging {
	/*border:1px solid red;*/
	margin-top: 70px;
	text-align: center;;
}

.paging_nav {
	list-style-type: none;
}
</style>
</head>
<body>
	<div class="content">
		<h1>게시글 관리</h1>
		<div>
			<select name="search" class="select">
				<option value="전체">전체</option>
				<option value="작성자">작성자</option>
				<option value="제목">제목</option>
				<option value="내용">내용</option>
			</select> <input type="text" name="search_typing" class="search_input">
			<button type="button" class="btn_search">검색</button>
			<div>
				<input type="radio" name="boardType" id="boardType" value="1" checked>자유게시판 <input type="radio" name="boardType" id="boardType" value="2">공지사항

			</div>
		</div>
		<div class="table-responsive clearfix">
			<form name="deleteBoardForm" id="deleteBoardForm" action="/admin/boardDelete" method="get">
				<table class="table table-hover">
					<thead>
						<tr class="tr1">
							<th>선택</th>
							<th>번호</th>
							<th>제목</th>
							<th>작성자</th>
							<th>등록일</th>
							<th>조회수</th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${not #lists.isEmpty( boardList )}" th:each="row : ${boardList}">
							<td class="col-md-1" scope="row"><input type="checkbox" name="boardNum" th:value=${row.boardNum}></td>
							<td class="col-md-1" scope="row" th:text="${row.listnum}"></td>
							<td class="col-md-6, text-left"><a class="title_link"
								th:href="@{/board/freeboard/view(boardNum=${row.boardNum}, memId=${row.memId}, boardType=${row.boardType})}"
								th:text="${row.boardTitle} + '('+ ${row.commCount} +')'"></a></td>
							<td class="col-md-2" th:text="${row.memNick}"></td>
							<td class="col-md-2" th:text="${row.boardDate}"></td>
							<!-- 첫 번째 파라미터는 '?'로 연결하고, 두 번째부터는 '&'로 연결하는데요, 타임리프는 URI 뒤에 ?대신 괄호를, & 대신 ,(콤마)를 사용 -->
							<td class="col-md-1" th:text="${row.boardHit}"></td>
						</tr>
						<tr th:unless="${not #lists.isEmpty( boardList )}">
							<td colspan="6">조회된 결과가 없습니다.</td>
						</tr>
					</tbody>
				</table>
				<div class="btn_wrap text-right">
					<button type="button" class="btn_delete" onclick="deleteMainboardFormCheck()">
						<a class="btn btn-primary waves-effect waves-light" name="btn_delete">삭제</a>
					</button>
					<button type="button" class="btn_write">
						<a th:href="@{/board/freeboard/write?boardType={boardType}(boardType=${boardList[0].boardType})}"
							class="btn btn-primary waves-effect waves-light" name="btn_write">글쓰기</a>
					</button>
				</div>
			</form>
		</div>
		<div class="paging">
			<th:block layout:fragment="paging">
				<nav th:replace="board/layout/common :: pagination"></nav>
			</th:block>
		</div>
		<th:block layout:fragment="script">
			<script th:inline="javascript">
				/*<![CDATA[*/

				function movePage(uri, queryString) {
					location.href = uri + queryString;
				}
				/*[- end of function -]*/

				//검색기능을 위한 ajax작성즁
				function search_board() {
					$.ajax({
						type : 'GET'
					})

				}

				/*]]>*/

				//삭제게시글 선택 여부 체크
				function deleteMainboardFormCheck() {
					if ($('input:checkbox[name="boardNum"]').is(':checked')) {
						let result = confirm("정말로 삭제하시겠습니까?");
						if (result) {
							$("#deleteBoardForm").submit();
						}
					} else {
						alert("삭제할 게시글을 선택해주세요.");
					}
				}
			</script>
		</th:block>
	</div>
</body>
</html>